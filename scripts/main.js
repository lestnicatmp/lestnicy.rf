navigator.appVersion.indexOf("MSIE 10")!==-1&&(document.documentElement.className+=" br-ie10"),window.Modernizr=function(t,e,n){function r(t){v.cssText=t}function i(t,e){return typeof t===e}function o(t,e){return!!~(""+t).indexOf(e)}function a(t,e){for(var r in t){var i=t[r];if(!o(i,"-")&&v[i]!==n)return"pfx"!=e||i}return!1}function s(t,e,r){for(var o in t){var a=e[t[o]];if(a!==n)return r===!1?t[o]:i(a,"function")?a.bind(r||e):a}return!1}function u(t,e,n){var r=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+k.join(r+" ")+r).split(" ");return i(e,"string")||i(e,"undefined")?a(o,e):(o=(t+" "+w.join(r+" ")+r).split(" "),s(o,e,n))}var c,l,d,h="2.8.3",f={},p=!0,g=e.documentElement,m="modernizr",y=e.createElement(m),v=y.style,_=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),b="Webkit Moz O ms",k=b.split(" "),w=b.toLowerCase().split(" "),C={},$=[],S=$.slice,M=function(t,n,r,i){var o,a,s,u,c=e.createElement("div"),l=e.body,d=l||e.createElement("body");if(parseInt(r,10))for(;r--;)s=e.createElement("div"),s.id=i?i[r]:m+(r+1),c.appendChild(s);return o=["&#173;",'<style id="s',m,'">',t,"</style>"].join(""),c.id=m,(l?c:d).innerHTML+=o,d.appendChild(c),l||(d.style.background="",d.style.overflow="hidden",u=g.style.overflow,g.style.overflow="hidden",g.appendChild(d)),a=n(c,t),l?c.parentNode.removeChild(c):(d.parentNode.removeChild(d),g.style.overflow=u),!!a},O=function(e){var n=t.matchMedia||t.msMatchMedia;if(n)return n(e)&&n(e).matches||!1;var r;return M("@media "+e+" { #"+m+" { position: absolute; } }",function(e){r="absolute"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),r},x={}.hasOwnProperty;d=i(x,"undefined")||i(x.call,"undefined")?function(t,e){return e in t&&i(t.constructor.prototype[e],"undefined")}:function(t,e){return x.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=S.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=e.prototype;var o=new i,a=e.apply(o,n.concat(S.call(arguments)));return Object(a)===a?a:o}return e.apply(t,n.concat(S.call(arguments)))};return r}),C.flexbox=function(){return u("flexWrap")};for(var N in C)d(C,N)&&(l=N.toLowerCase(),f[l]=C[N](),$.push((f[l]?"":"no-")+l));return f.addTest=function(t,e){if("object"==typeof t)for(var r in t)d(t,r)&&f.addTest(r,t[r]);else{if(t=t.toLowerCase(),f[t]!==n)return f;e="function"==typeof e?e():e,"undefined"!=typeof p&&p&&(g.className+=" mn-"+(e?"":"no-")+t),f[t]=e}return f},r(""),y=c=null,f._version=h,f._prefixes=_,f._domPrefixes=w,f._cssomPrefixes=k,f.mq=O,f.testProp=function(t){return a([t])},f.testAllProps=u,f.testStyles=M,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" mn-js mn-"+$.join(" mn-"):""),f}(this,this.document),Modernizr.addTest("cssremunit",function(){var t=document.createElement("div");try{t.style.fontSize="3rem"}catch(e){}return/rem/.test(t.style.fontSize)}),$(function(){setTimeout(function(){$("#switcher").off("swipeLeft swipeRight")},100)});var Application,bind=function(t,e){return function(){return t.apply(e,arguments)}},indexOf=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};Application=function(){function t(){this.register=bind(this.register,this),this.run=bind(this.run,this),this.modules=[]}return t.prototype.run=function(){var t,e,n,r,i,o;for(o=$("body").data("route"),r=this.modules,i=[],t=0,e=r.length;t<e;t++)n=r[t],!n.routes||indexOf.call(n.routes,o)>=0?i.push(n.run()):i.push(void 0);return i},t.prototype.register=function(t){return this.modules.push(t)},t}();var CartModule,bind=function(t,e){return function(){return t.apply(e,arguments)}},indexOf=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};CartModule=function(){function t(){this.set_products=bind(this.set_products,this),this.get_products=bind(this.get_products,this),this.on_product_change=bind(this.on_product_change,this),this.on_star_click=bind(this.on_star_click,this),this.update_cart=bind(this.update_cart,this),this.update_stars=bind(this.update_stars,this),this.update_menu=bind(this.update_menu,this),this.update=bind(this.update,this),this.run=bind(this.run,this)}return t.prototype.run=function(){return this.stars=$("[data-star]"),this.stars.click(this.on_star_click),this.stars.bind("product_change",this.on_product_change),this.update()},t.prototype.update=function(){return this.update_menu(),this.update_stars(),this.update_cart()},t.prototype.update_menu=function(){var t,e;if(t=this.get_products(),e=$(".mainnav-stars"),e.hide(),e.html(),t.length)return e.find(".mainnav-stars-count").html(t.length),e.show()},t.prototype.update_stars=function(){return this.stars.map(function(t){return function(e,n){var r,i;return n=$(n),r=n.data("star"),i=t.get_products(),indexOf.call(i,r)>=0?n.removeClass("fa-star-o").addClass("fa-star"):n.removeClass("fa-star").addClass("fa-star-o")}}(this))},t.prototype.update_cart=function(){var t,e;return e=this.get_products(),t=$('body[data-route="select/catalog/cart"] .product'),t.map(function(t){return function(t,n){var r;if(n=$(n),r=n.find("[data-star]").data("star"),n.hide(),indexOf.call(e,r)>=0)return n.show()}}(this)),t.filter(":visible:first").css("border-top","none")},t.prototype.on_star_click=function(t){var e,n,r;return e=$(t.currentTarget),n=e.data("star"),r=this.get_products(),indexOf.call(r,n)>=0?r=_.without(r,n):r.push(n),this.set_products(r),this.update()},t.prototype.on_product_change=function(t){return this.update()},t.prototype.get_products=function(){var t;return t=[],localStorage.cart&&(t=JSON.parse(localStorage.cart)),t},t.prototype.set_products=function(t){return localStorage.cart=JSON.stringify(t)},t}();var FlipModule,bind=function(t,e){return function(){return t.apply(e,arguments)}};FlipModule=function(){function t(){this.set=bind(this.set,this),this.get=bind(this.get,this),this.on_link_click=bind(this.on_link_click,this),this.update=bind(this.update,this),this.run=bind(this.run,this)}return t.prototype.run=function(){return this.links=$("a[data-flip]"),this.images=$("img[data-flip]"),this.links.click(this.on_link_click),this.update()},t.prototype.update=function(t){var e,n;return n=this.get(),t&&(e="uk-animation-fade",this.links.addClass(e),this.images.addClass(e),setTimeout(function(t){return function(){return t.links.removeClass(e),t.images.removeClass(e)}}(this),1e3)),n?(this.links.html("левозаходные"),this.images.addClass("ut-flip")):(this.links.html("правозаходные"),this.images.removeClass("ut-flip"))},t.prototype.on_link_click=function(t){return t.preventDefault(),this.set(!this.get()),this.update(!0)},t.prototype.get=function(){return JSON.parse(localStorage.flip||"false")},t.prototype.set=function(t){return localStorage.flip=JSON.stringify(t)},t}(),jQuery(function(t){return function(){var t;return t=new Application,t.register(new CartModule),t.register(new CategoryModule),t.register(new FlipModule),t.register(new HeroModule),t.register(new ScrollModule),t.run()}}(this));var ScrollModule,bind=function(t,e){return function(){return t.apply(e,arguments)}};ScrollModule=function(){function t(){this.scroll=bind(this.scroll,this),this.on_click=bind(this.on_click,this),this.run=bind(this.run,this)}return t.prototype.run=function(){var t;return t=$(location).attr("hash"),t&&this.scroll(t),$('a[href^="#"]').click(this.on_click)},t.prototype.on_click=function(t){var e,n;return t.preventDefault(),e=t.currentTarget,n=$(e).attr("href").replace("/",""),this.scroll(n)},t.prototype.scroll=function(t){var e,n;if(e=$(t),e.length)return e.is(":hidden")&&(e.parents(".uk-switcher").children().removeClass("uk-active"),e.parents(".uk-switcher>li").addClass("uk-active")),n=$(".header").height()+20,UIkit.Utils.scrollToElement(e,{offset:n})},t}(),jQuery(function(){$("[data-callback-trigger]").click(function(t){t.preventDefault(),Comagic.openSitePhonePanel()})}),jQuery(function(){function t(t){var n=JSON.parse(localStorage.delivery||"true");n?e.show():e.hide()}var e=$(".delivery-content"),n=$(".delivery-close-link");t(),n.click(function(e){var n=JSON.parse(localStorage.delivery||"true");localStorage.delivery=JSON.stringify(!n),e.preventDefault(),t()})});var CategoryModule,bind=function(t,e){return function(){return t.apply(e,arguments)}};CategoryModule=function(){function t(){this.on_item_click=bind(this.on_item_click,this),this.run=bind(this.run,this)}return t.prototype.run=function(){return $(".category-item-link").click(this.on_item_click)},t.prototype.on_item_click=function(t){var e,n;return t.preventDefault(),e=$(t.currentTarget),n=e.parents(".category"),n.find(".category-heading, .category-image, .category-table").fadeOut("fast",function(t){return function(){var t;return n.find(".category-heading-link").attr("href",e.data("link")),n.find(".category-heading-name").html(e.data("name")),n.find(".category-image").attr("src",e.data("image")),n.find(".category-star").data("stair",e.data("slug")),n.find(".category-star").trigger("stair_change"),n.find(".category-price-value").html(e.data("price")),n.find(".category-price-currency").hide(),e.data("presence")&&n.find(".category-price-currency").show(),n.find(".category-notice").hide(),e.data("discount")&&n.find(".category-notice").show(),n.find(".category-turn").html(e.data("turn")),n.find(".category-height").html(e.data("height")),n.find(".category-window").html(e.data("window")),n.find(".category-wood").html(e.data("wood")),t="category-item--active",e.parent().siblings().removeClass(t),e.parent().addClass(t),n.find(".category-heading, .category-image, .category-table").fadeIn("slow")}}(this))},t}();var HeroModule,bind=function(t,e){return function(){return t.apply(e,arguments)}};HeroModule=function(){function t(){this.on_interval=bind(this.on_interval,this),this.on_thumb_click=bind(this.on_thumb_click,this),this.run=bind(this.run,this)}return t.prototype.run=function(){if(this.thumbs=$(".hero-thumb"),this.thumbs.length)return this.interval=setInterval(this.on_interval,5e3),this.thumbs.click(this.on_thumb_click)},t.prototype.on_thumb_click=function(t,e){var n,r,i;return null==e&&(e=!1),e||clearInterval(this.interval),t.preventDefault,n="hero-thumb--active",r=$(t.currentTarget),r.siblings().removeClass(n),r.addClass(n),i=$(".hero-figure"),i.stop(),i.fadeOut("fast",function(t){return function(){return i.find(".hero-image").attr("src",r.data("image")),i.find(".hero-link").attr("href",r.data("link")),i.find(".hero-link-name").html(r.data("name")),i.find(".hero-price-value").html(r.data("price")),i.fadeIn(1e3)}}(this))},t.prototype.on_interval=function(){var t,e;return t=$(".hero-thumb--active"),e=t.next(),e.length||(e=t.siblings().first()),e.trigger("click",[!0])},t}();
//# sourceMappingURL=maps/main.js.map
