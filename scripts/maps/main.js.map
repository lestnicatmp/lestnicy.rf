{"version":3,"sources":["browsers.js","modernizr.js","switcher.js","app.coffee","main.js","cart.coffee","flip.coffee","main.coffee","scroll.coffee","blocks/callback.js","blocks/delivery.js","blocks/category.coffee","blocks/hero.coffee"],"names":["navigator","appVersion","indexOf","document","documentElement","className","window","Modernizr","undefined","setCss","str","mStyle","cssText","is","obj","type","contains","substr","testProps","props","prefixed","i","prop","testDOMProps","elem","item","bind","testPropsAll","ucProp","charAt","toUpperCase","slice","cssomPrefixes","join","split","inputElem","featureName","hasOwnProp","version","enableClasses","docElement","mod","modElem","createElement","style","prefixes","toString","omPrefixes","domPrefixes","toLowerCase","tests","classes","injectElementWithStyles","rule","callback","nodes","testnames","ret","node","docOverflow","div","body","fakeBody","parseInt","id","appendChild","innerHTML","background","overflow","parentNode","removeChild","testMediaQuery","mq","matchMedia","msMatchMedia","matches","bool","getComputedStyle","currentStyle","_hasOwnProperty","hasOwnProperty","call","object","property","constructor","prototype","Function","that","target","this","TypeError","args","arguments","bound","F","self","result","apply","concat","Object","feature","push","addTest","test","key","_version","_prefixes","_domPrefixes","_cssomPrefixes","testProp","testAllProps","testStyles","replace","fontSize","er","$","setTimeout","off","Application","fn","me","l","length","register","run","modules","len","module","ref","results","route","data","routes","CartModule","set_products","get_products","on_product_change","on_star_click","update_cart","update_stars","update_menu","update","stars","click","products","hide","html","find","show","map","_this","index","element","product","removeClass","addClass","elements","filter","css","event","currentTarget","_","without","localStorage","cart","JSON","parse","stringify","FlipModule","set","get","on_link_click","links","images","animation","flip","preventDefault","jQuery","app","CategoryModule","HeroModule","ScrollModule","scroll","on_click","hash","location","attr","offset","parents","children","height","UIkit","Utils","scrollToElement","Comagic","openSitePhonePanel","sync","status","visible","delivery","content","link","on_item_click","fadeOut","active","trigger","parent","siblings","fadeIn","on_interval","on_thumb_click","thumbs","interval","setInterval","auto","clearInterval","stop","current","next","first"],"mappings":"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","file":"../main.js","sourcesContent":["// If the browser is internet explorer 10\nif (navigator.appVersion.indexOf(\"MSIE 10\") !== -1) {\n    document.documentElement.className+=' br-ie10';\n}\n","/* Modernizr 2.8.3 (Custom Build) | MIT & BSD\n * Build: http://modernizr.com/download/#-flexbox-mq-cssclasses-teststyles-testprop-prefixes-css_remunit-cssclassprefix:mn!\n */\n;\n\n\n\nwindow.Modernizr = (function( window, document, undefined ) {\n\n    var version = '2.8.3',\n\n    Modernizr = {},\n\n    enableClasses = true,\n\n    docElement = document.documentElement,\n\n    mod = 'modernizr',\n    modElem = document.createElement(mod),\n    mStyle = modElem.style,\n\n    inputElem  ,\n\n\n    toString = {}.toString,\n\n    prefixes = ' -webkit- -moz- -o- -ms- '.split(' '),\n\n\n\n    omPrefixes = 'Webkit Moz O ms',\n\n    cssomPrefixes = omPrefixes.split(' '),\n\n    domPrefixes = omPrefixes.toLowerCase().split(' '),\n\n\n    tests = {},\n    inputs = {},\n    attrs = {},\n\n    classes = [],\n\n    slice = classes.slice,\n\n    featureName,\n\n\n    injectElementWithStyles = function( rule, callback, nodes, testnames ) {\n\n      var style, ret, node, docOverflow,\n          div = document.createElement('div'),\n                body = document.body,\n                fakeBody = body || document.createElement('body');\n\n      if ( parseInt(nodes, 10) ) {\n                      while ( nodes-- ) {\n              node = document.createElement('div');\n              node.id = testnames ? testnames[nodes] : mod + (nodes + 1);\n              div.appendChild(node);\n          }\n      }\n\n                style = ['&#173;','<style id=\"s', mod, '\">', rule, '</style>'].join('');\n      div.id = mod;\n          (body ? div : fakeBody).innerHTML += style;\n      fakeBody.appendChild(div);\n      if ( !body ) {\n                fakeBody.style.background = '';\n                fakeBody.style.overflow = 'hidden';\n          docOverflow = docElement.style.overflow;\n          docElement.style.overflow = 'hidden';\n          docElement.appendChild(fakeBody);\n      }\n\n      ret = callback(div, rule);\n        if ( !body ) {\n          fakeBody.parentNode.removeChild(fakeBody);\n          docElement.style.overflow = docOverflow;\n      } else {\n          div.parentNode.removeChild(div);\n      }\n\n      return !!ret;\n\n    },\n\n    testMediaQuery = function( mq ) {\n\n      var matchMedia = window.matchMedia || window.msMatchMedia;\n      if ( matchMedia ) {\n        return matchMedia(mq) && matchMedia(mq).matches || false;\n      }\n\n      var bool;\n\n      injectElementWithStyles('@media ' + mq + ' { #' + mod + ' { position: absolute; } }', function( node ) {\n        bool = (window.getComputedStyle ?\n                  getComputedStyle(node, null) :\n                  node.currentStyle)['position'] == 'absolute';\n      });\n\n      return bool;\n\n     },\n    _hasOwnProperty = ({}).hasOwnProperty, hasOwnProp;\n\n    if ( !is(_hasOwnProperty, 'undefined') && !is(_hasOwnProperty.call, 'undefined') ) {\n      hasOwnProp = function (object, property) {\n        return _hasOwnProperty.call(object, property);\n      };\n    }\n    else {\n      hasOwnProp = function (object, property) {\n        return ((property in object) && is(object.constructor.prototype[property], 'undefined'));\n      };\n    }\n\n\n    if (!Function.prototype.bind) {\n      Function.prototype.bind = function bind(that) {\n\n        var target = this;\n\n        if (typeof target != \"function\") {\n            throw new TypeError();\n        }\n\n        var args = slice.call(arguments, 1),\n            bound = function () {\n\n            if (this instanceof bound) {\n\n              var F = function(){};\n              F.prototype = target.prototype;\n              var self = new F();\n\n              var result = target.apply(\n                  self,\n                  args.concat(slice.call(arguments))\n              );\n              if (Object(result) === result) {\n                  return result;\n              }\n              return self;\n\n            } else {\n\n              return target.apply(\n                  that,\n                  args.concat(slice.call(arguments))\n              );\n\n            }\n\n        };\n\n        return bound;\n      };\n    }\n\n    function setCss( str ) {\n        mStyle.cssText = str;\n    }\n\n    function setCssAll( str1, str2 ) {\n        return setCss(prefixes.join(str1 + ';') + ( str2 || '' ));\n    }\n\n    function is( obj, type ) {\n        return typeof obj === type;\n    }\n\n    function contains( str, substr ) {\n        return !!~('' + str).indexOf(substr);\n    }\n\n    function testProps( props, prefixed ) {\n        for ( var i in props ) {\n            var prop = props[i];\n            if ( !contains(prop, \"-\") && mStyle[prop] !== undefined ) {\n                return prefixed == 'pfx' ? prop : true;\n            }\n        }\n        return false;\n    }\n\n    function testDOMProps( props, obj, elem ) {\n        for ( var i in props ) {\n            var item = obj[props[i]];\n            if ( item !== undefined) {\n\n                            if (elem === false) return props[i];\n\n                            if (is(item, 'function')){\n                                return item.bind(elem || obj);\n                }\n\n                            return item;\n            }\n        }\n        return false;\n    }\n\n    function testPropsAll( prop, prefixed, elem ) {\n\n        var ucProp  = prop.charAt(0).toUpperCase() + prop.slice(1),\n            props   = (prop + ' ' + cssomPrefixes.join(ucProp + ' ') + ucProp).split(' ');\n\n            if(is(prefixed, \"string\") || is(prefixed, \"undefined\")) {\n          return testProps(props, prefixed);\n\n            } else {\n          props = (prop + ' ' + (domPrefixes).join(ucProp + ' ') + ucProp).split(' ');\n          return testDOMProps(props, prefixed, elem);\n        }\n    }    tests['flexbox'] = function() {\n      return testPropsAll('flexWrap');\n    };\n    for ( var feature in tests ) {\n        if ( hasOwnProp(tests, feature) ) {\n                                    featureName  = feature.toLowerCase();\n            Modernizr[featureName] = tests[feature]();\n\n            classes.push((Modernizr[featureName] ? '' : 'no-') + featureName);\n        }\n    }\n\n\n\n     Modernizr.addTest = function ( feature, test ) {\n       if ( typeof feature == 'object' ) {\n         for ( var key in feature ) {\n           if ( hasOwnProp( feature, key ) ) {\n             Modernizr.addTest( key, feature[ key ] );\n           }\n         }\n       } else {\n\n         feature = feature.toLowerCase();\n\n         if ( Modernizr[feature] !== undefined ) {\n                                              return Modernizr;\n         }\n\n         test = typeof test == 'function' ? test() : test;\n\n         if (typeof enableClasses !== \"undefined\" && enableClasses) {\n           docElement.className+=\" mn-\" + (test ? '' : 'no-') + feature;\n         }\n         Modernizr[feature] = test;\n\n       }\n\n       return Modernizr;\n     };\n\n\n    setCss('');\n    modElem = inputElem = null;\n\n\n    Modernizr._version      = version;\n\n    Modernizr._prefixes     = prefixes;\n    Modernizr._domPrefixes  = domPrefixes;\n    Modernizr._cssomPrefixes  = cssomPrefixes;\n\n    Modernizr.mq            = testMediaQuery;\n\n\n    Modernizr.testProp      = function(prop){\n        return testProps([prop]);\n    };\n\n    Modernizr.testAllProps  = testPropsAll;\n\n\n    Modernizr.testStyles    = injectElementWithStyles;    docElement.className = docElement.className.replace(/(^|\\s)no-js(\\s|$)/, '$1$2') +\n\n                                                    (enableClasses ? \" mn-js mn-\"+classes.join(\" mn-\") : '');\n\n    return Modernizr;\n\n})(this, this.document);\n\n// test by github.com/nsfmc\n\n// \"The 'rem' unit ('root em') is relative to the computed\n// value of the 'font-size' value of the root element.\"\n// http://www.w3.org/TR/css3-values/#relative0\n// you can test by checking if the prop was ditched\n\n// http://snook.ca/archives/html_and_css/font-size-with-rem\n\nModernizr.addTest('cssremunit', function(){\n\n  var div = document.createElement('div');\n  try {\n    div.style.fontSize = '3rem';\n  } catch(er){}\n  return (/rem/).test(div.style.fontSize);\n\n});\n;\n","$(function() {\n    setTimeout(function () {\n        $('#switcher').off('swipeLeft swipeRight');\n    }, 100);\n});\n","class Application\n\n  # Public\n\n  constructor: ->\n    @modules = []\n\n  run: =>\n    route = $('body').data('route')\n    for module in @modules\n      if not module.routes or route in module.routes\n        module.run()\n\n  register: (module) =>\n    @modules.push(module)\n\n","// If the browser is internet explorer 10\nif (navigator.appVersion.indexOf(\"MSIE 10\") !== -1) {\n    document.documentElement.className+=' br-ie10';\n}\n\n/* Modernizr 2.8.3 (Custom Build) | MIT & BSD\n * Build: http://modernizr.com/download/#-flexbox-mq-cssclasses-teststyles-testprop-prefixes-css_remunit-cssclassprefix:mn!\n */\n;\n\n\n\nwindow.Modernizr = (function( window, document, undefined ) {\n\n    var version = '2.8.3',\n\n    Modernizr = {},\n\n    enableClasses = true,\n\n    docElement = document.documentElement,\n\n    mod = 'modernizr',\n    modElem = document.createElement(mod),\n    mStyle = modElem.style,\n\n    inputElem  ,\n\n\n    toString = {}.toString,\n\n    prefixes = ' -webkit- -moz- -o- -ms- '.split(' '),\n\n\n\n    omPrefixes = 'Webkit Moz O ms',\n\n    cssomPrefixes = omPrefixes.split(' '),\n\n    domPrefixes = omPrefixes.toLowerCase().split(' '),\n\n\n    tests = {},\n    inputs = {},\n    attrs = {},\n\n    classes = [],\n\n    slice = classes.slice,\n\n    featureName,\n\n\n    injectElementWithStyles = function( rule, callback, nodes, testnames ) {\n\n      var style, ret, node, docOverflow,\n          div = document.createElement('div'),\n                body = document.body,\n                fakeBody = body || document.createElement('body');\n\n      if ( parseInt(nodes, 10) ) {\n                      while ( nodes-- ) {\n              node = document.createElement('div');\n              node.id = testnames ? testnames[nodes] : mod + (nodes + 1);\n              div.appendChild(node);\n          }\n      }\n\n                style = ['&#173;','<style id=\"s', mod, '\">', rule, '</style>'].join('');\n      div.id = mod;\n          (body ? div : fakeBody).innerHTML += style;\n      fakeBody.appendChild(div);\n      if ( !body ) {\n                fakeBody.style.background = '';\n                fakeBody.style.overflow = 'hidden';\n          docOverflow = docElement.style.overflow;\n          docElement.style.overflow = 'hidden';\n          docElement.appendChild(fakeBody);\n      }\n\n      ret = callback(div, rule);\n        if ( !body ) {\n          fakeBody.parentNode.removeChild(fakeBody);\n          docElement.style.overflow = docOverflow;\n      } else {\n          div.parentNode.removeChild(div);\n      }\n\n      return !!ret;\n\n    },\n\n    testMediaQuery = function( mq ) {\n\n      var matchMedia = window.matchMedia || window.msMatchMedia;\n      if ( matchMedia ) {\n        return matchMedia(mq) && matchMedia(mq).matches || false;\n      }\n\n      var bool;\n\n      injectElementWithStyles('@media ' + mq + ' { #' + mod + ' { position: absolute; } }', function( node ) {\n        bool = (window.getComputedStyle ?\n                  getComputedStyle(node, null) :\n                  node.currentStyle)['position'] == 'absolute';\n      });\n\n      return bool;\n\n     },\n    _hasOwnProperty = ({}).hasOwnProperty, hasOwnProp;\n\n    if ( !is(_hasOwnProperty, 'undefined') && !is(_hasOwnProperty.call, 'undefined') ) {\n      hasOwnProp = function (object, property) {\n        return _hasOwnProperty.call(object, property);\n      };\n    }\n    else {\n      hasOwnProp = function (object, property) {\n        return ((property in object) && is(object.constructor.prototype[property], 'undefined'));\n      };\n    }\n\n\n    if (!Function.prototype.bind) {\n      Function.prototype.bind = function bind(that) {\n\n        var target = this;\n\n        if (typeof target != \"function\") {\n            throw new TypeError();\n        }\n\n        var args = slice.call(arguments, 1),\n            bound = function () {\n\n            if (this instanceof bound) {\n\n              var F = function(){};\n              F.prototype = target.prototype;\n              var self = new F();\n\n              var result = target.apply(\n                  self,\n                  args.concat(slice.call(arguments))\n              );\n              if (Object(result) === result) {\n                  return result;\n              }\n              return self;\n\n            } else {\n\n              return target.apply(\n                  that,\n                  args.concat(slice.call(arguments))\n              );\n\n            }\n\n        };\n\n        return bound;\n      };\n    }\n\n    function setCss( str ) {\n        mStyle.cssText = str;\n    }\n\n    function setCssAll( str1, str2 ) {\n        return setCss(prefixes.join(str1 + ';') + ( str2 || '' ));\n    }\n\n    function is( obj, type ) {\n        return typeof obj === type;\n    }\n\n    function contains( str, substr ) {\n        return !!~('' + str).indexOf(substr);\n    }\n\n    function testProps( props, prefixed ) {\n        for ( var i in props ) {\n            var prop = props[i];\n            if ( !contains(prop, \"-\") && mStyle[prop] !== undefined ) {\n                return prefixed == 'pfx' ? prop : true;\n            }\n        }\n        return false;\n    }\n\n    function testDOMProps( props, obj, elem ) {\n        for ( var i in props ) {\n            var item = obj[props[i]];\n            if ( item !== undefined) {\n\n                            if (elem === false) return props[i];\n\n                            if (is(item, 'function')){\n                                return item.bind(elem || obj);\n                }\n\n                            return item;\n            }\n        }\n        return false;\n    }\n\n    function testPropsAll( prop, prefixed, elem ) {\n\n        var ucProp  = prop.charAt(0).toUpperCase() + prop.slice(1),\n            props   = (prop + ' ' + cssomPrefixes.join(ucProp + ' ') + ucProp).split(' ');\n\n            if(is(prefixed, \"string\") || is(prefixed, \"undefined\")) {\n          return testProps(props, prefixed);\n\n            } else {\n          props = (prop + ' ' + (domPrefixes).join(ucProp + ' ') + ucProp).split(' ');\n          return testDOMProps(props, prefixed, elem);\n        }\n    }    tests['flexbox'] = function() {\n      return testPropsAll('flexWrap');\n    };\n    for ( var feature in tests ) {\n        if ( hasOwnProp(tests, feature) ) {\n                                    featureName  = feature.toLowerCase();\n            Modernizr[featureName] = tests[feature]();\n\n            classes.push((Modernizr[featureName] ? '' : 'no-') + featureName);\n        }\n    }\n\n\n\n     Modernizr.addTest = function ( feature, test ) {\n       if ( typeof feature == 'object' ) {\n         for ( var key in feature ) {\n           if ( hasOwnProp( feature, key ) ) {\n             Modernizr.addTest( key, feature[ key ] );\n           }\n         }\n       } else {\n\n         feature = feature.toLowerCase();\n\n         if ( Modernizr[feature] !== undefined ) {\n                                              return Modernizr;\n         }\n\n         test = typeof test == 'function' ? test() : test;\n\n         if (typeof enableClasses !== \"undefined\" && enableClasses) {\n           docElement.className+=\" mn-\" + (test ? '' : 'no-') + feature;\n         }\n         Modernizr[feature] = test;\n\n       }\n\n       return Modernizr;\n     };\n\n\n    setCss('');\n    modElem = inputElem = null;\n\n\n    Modernizr._version      = version;\n\n    Modernizr._prefixes     = prefixes;\n    Modernizr._domPrefixes  = domPrefixes;\n    Modernizr._cssomPrefixes  = cssomPrefixes;\n\n    Modernizr.mq            = testMediaQuery;\n\n\n    Modernizr.testProp      = function(prop){\n        return testProps([prop]);\n    };\n\n    Modernizr.testAllProps  = testPropsAll;\n\n\n    Modernizr.testStyles    = injectElementWithStyles;    docElement.className = docElement.className.replace(/(^|\\s)no-js(\\s|$)/, '$1$2') +\n\n                                                    (enableClasses ? \" mn-js mn-\"+classes.join(\" mn-\") : '');\n\n    return Modernizr;\n\n})(this, this.document);\n\n// test by github.com/nsfmc\n\n// \"The 'rem' unit ('root em') is relative to the computed\n// value of the 'font-size' value of the root element.\"\n// http://www.w3.org/TR/css3-values/#relative0\n// you can test by checking if the prop was ditched\n\n// http://snook.ca/archives/html_and_css/font-size-with-rem\n\nModernizr.addTest('cssremunit', function(){\n\n  var div = document.createElement('div');\n  try {\n    div.style.fontSize = '3rem';\n  } catch(er){}\n  return (/rem/).test(div.style.fontSize);\n\n});\n;\n\n$(function() {\n    setTimeout(function () {\n        $('#switcher').off('swipeLeft swipeRight');\n    }, 100);\n});\n\nvar Application,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\nApplication = (function() {\n  function Application() {\n    this.register = bind(this.register, this);\n    this.run = bind(this.run, this);\n    this.modules = [];\n  }\n\n  Application.prototype.run = function() {\n    var i, len, module, ref, results, route;\n    route = $('body').data('route');\n    ref = this.modules;\n    results = [];\n    for (i = 0, len = ref.length; i < len; i++) {\n      module = ref[i];\n      if (!module.routes || indexOf.call(module.routes, route) >= 0) {\n        results.push(module.run());\n      } else {\n        results.push(void 0);\n      }\n    }\n    return results;\n  };\n\n  Application.prototype.register = function(module) {\n    return this.modules.push(module);\n  };\n\n  return Application;\n\n})();\n\nvar CartModule,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\nCartModule = (function() {\n  function CartModule() {\n    this.set_products = bind(this.set_products, this);\n    this.get_products = bind(this.get_products, this);\n    this.on_product_change = bind(this.on_product_change, this);\n    this.on_star_click = bind(this.on_star_click, this);\n    this.update_cart = bind(this.update_cart, this);\n    this.update_stars = bind(this.update_stars, this);\n    this.update_menu = bind(this.update_menu, this);\n    this.update = bind(this.update, this);\n    this.run = bind(this.run, this);\n  }\n\n  CartModule.prototype.run = function() {\n    this.stars = $('[data-star]');\n    this.stars.click(this.on_star_click);\n    this.stars.bind('product_change', this.on_product_change);\n    return this.update();\n  };\n\n  CartModule.prototype.update = function() {\n    this.update_menu();\n    this.update_stars();\n    return this.update_cart();\n  };\n\n  CartModule.prototype.update_menu = function() {\n    var products, target;\n    products = this.get_products();\n    target = $('.mainnav-stars');\n    target.hide();\n    target.html();\n    if (products.length) {\n      target.find('.mainnav-stars-count').html(products.length);\n      return target.show();\n    }\n  };\n\n  CartModule.prototype.update_stars = function() {\n    return this.stars.map((function(_this) {\n      return function(index, element) {\n        var product, products;\n        element = $(element);\n        product = element.data('star');\n        products = _this.get_products();\n        if (indexOf.call(products, product) >= 0) {\n          return element.removeClass('fa-star-o').addClass('fa-star');\n        } else {\n          return element.removeClass('fa-star').addClass('fa-star-o');\n        }\n      };\n    })(this));\n  };\n\n  CartModule.prototype.update_cart = function() {\n    var elements, products;\n    products = this.get_products();\n    elements = $('body[data-route=\"select/catalog/cart\"] .product');\n    elements.map((function(_this) {\n      return function(index, element) {\n        var product;\n        element = $(element);\n        product = element.find('[data-star]').data('star');\n        element.hide();\n        if (indexOf.call(products, product) >= 0) {\n          return element.show();\n        }\n      };\n    })(this));\n    return elements.filter(':visible:first').css('border-top', 'none');\n  };\n\n  CartModule.prototype.on_star_click = function(event) {\n    var element, product, products;\n    element = $(event.currentTarget);\n    product = element.data('star');\n    products = this.get_products();\n    if (indexOf.call(products, product) >= 0) {\n      products = _.without(products, product);\n    } else {\n      products.push(product);\n    }\n    this.set_products(products);\n    return this.update();\n  };\n\n  CartModule.prototype.on_product_change = function(event) {\n    return this.update();\n  };\n\n  CartModule.prototype.get_products = function() {\n    var products;\n    products = [];\n    if (localStorage.cart) {\n      products = JSON.parse(localStorage.cart);\n    }\n    return products;\n  };\n\n  CartModule.prototype.set_products = function(products) {\n    return localStorage.cart = JSON.stringify(products);\n  };\n\n  return CartModule;\n\n})();\n\nvar FlipModule,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\nFlipModule = (function() {\n  function FlipModule() {\n    this.set = bind(this.set, this);\n    this.get = bind(this.get, this);\n    this.on_link_click = bind(this.on_link_click, this);\n    this.update = bind(this.update, this);\n    this.run = bind(this.run, this);\n  }\n\n  FlipModule.prototype.run = function() {\n    this.links = $('a[data-flip]');\n    this.images = $('img[data-flip]');\n    this.links.click(this.on_link_click);\n    return this.update();\n  };\n\n  FlipModule.prototype.update = function(click) {\n    var animation, flip;\n    flip = this.get();\n    if (click) {\n      animation = 'uk-animation-fade';\n      this.links.addClass(animation);\n      this.images.addClass(animation);\n      setTimeout(((function(_this) {\n        return function() {\n          _this.links.removeClass(animation);\n          return _this.images.removeClass(animation);\n        };\n      })(this)), 1000);\n    }\n    if (flip) {\n      this.links.html('левозаходные');\n      return this.images.addClass('ut-flip');\n    } else {\n      this.links.html('правозаходные');\n      return this.images.removeClass('ut-flip');\n    }\n  };\n\n  FlipModule.prototype.on_link_click = function(event) {\n    event.preventDefault();\n    this.set(!this.get());\n    return this.update(true);\n  };\n\n  FlipModule.prototype.get = function() {\n    return JSON.parse(localStorage.flip || 'false');\n  };\n\n  FlipModule.prototype.set = function(flip) {\n    return localStorage.flip = JSON.stringify(flip);\n  };\n\n  return FlipModule;\n\n})();\n\njQuery((function(_this) {\n  return function() {\n    var app;\n    app = new Application();\n    app.register(new CartModule());\n    app.register(new CategoryModule());\n    app.register(new FlipModule());\n    app.register(new HeroModule());\n    app.register(new ScrollModule());\n    return app.run();\n  };\n})(this));\n\nvar ScrollModule,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\nScrollModule = (function() {\n  function ScrollModule() {\n    this.scroll = bind(this.scroll, this);\n    this.on_click = bind(this.on_click, this);\n    this.run = bind(this.run, this);\n  }\n\n  ScrollModule.prototype.run = function() {\n    var hash;\n    hash = $(location).attr('hash');\n    if (hash) {\n      this.scroll(hash);\n    }\n    return $('a[href^=\"#\"]').click(this.on_click);\n  };\n\n  ScrollModule.prototype.on_click = function(event) {\n    var element, hash;\n    event.preventDefault();\n    element = event.currentTarget;\n    hash = $(element).attr('href').replace('/', '');\n    return this.scroll(hash);\n  };\n\n  ScrollModule.prototype.scroll = function(hash) {\n    var element, offset;\n    element = $(hash);\n    if (element.length) {\n      if (element.is(':hidden')) {\n        element.parents('.uk-switcher').children().removeClass('uk-active');\n        element.parents('.uk-switcher>li').addClass('uk-active');\n      }\n      offset = $('.header').height() + 20;\n      return UIkit.Utils.scrollToElement(element, {\n        offset: offset\n      });\n    }\n  };\n\n  return ScrollModule;\n\n})();\n\njQuery(function () {\n    $('[data-callback-trigger]').click(function (event) {\n        event.preventDefault();\n        Comagic.openSitePhonePanel();\n    })\n})\n\njQuery(function () {\n\n    var content = $('.delivery-content');\n    var link = $('.delivery-close-link');\n\n    // Initial sync\n    sync();\n\n    // Togle on click\n    link.click(function (event) {\n        var visible = JSON.parse(localStorage.delivery || 'true');\n        localStorage.delivery = JSON.stringify(!visible)\n        event.preventDefault();\n        sync();\n    });\n\n    // Sync content status\n    function sync(status) {\n        var visible = JSON.parse(localStorage.delivery || 'true');\n        if (visible) {\n            content.show();\n        } else {\n            content.hide();\n        }\n    }\n\n});\n\nvar CategoryModule,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\nCategoryModule = (function() {\n  function CategoryModule() {\n    this.on_item_click = bind(this.on_item_click, this);\n    this.run = bind(this.run, this);\n  }\n\n  CategoryModule.prototype.run = function() {\n    return $('.category-item-link').click(this.on_item_click);\n  };\n\n  CategoryModule.prototype.on_item_click = function(event) {\n    var element, target;\n    event.preventDefault();\n    element = $(event.currentTarget);\n    target = element.parents('.category');\n    return target.find('.category-heading, .category-image, .category-table').fadeOut('fast', (function(_this) {\n      return function() {\n        var active;\n        target.find('.category-heading-link').attr('href', element.data('link'));\n        target.find('.category-heading-name').html(element.data('name'));\n        target.find('.category-image').attr('src', element.data('image'));\n        target.find('.category-star').data('stair', element.data('slug'));\n        target.find('.category-star').trigger('stair_change');\n        target.find('.category-price-value').html(element.data('price'));\n        target.find('.category-price-currency').hide();\n        if (element.data('presence')) {\n          target.find('.category-price-currency').show();\n        }\n        target.find('.category-notice').hide();\n        if (element.data('discount')) {\n          target.find('.category-notice').show();\n        }\n        target.find('.category-turn').html(element.data('turn'));\n        target.find('.category-height').html(element.data('height'));\n        target.find('.category-window').html(element.data('window'));\n        target.find('.category-wood').html(element.data('wood'));\n        active = 'category-item--active';\n        element.parent().siblings().removeClass(active);\n        element.parent().addClass(active);\n        return target.find('.category-heading, .category-image, .category-table').fadeIn('slow');\n      };\n    })(this));\n  };\n\n  return CategoryModule;\n\n})();\n\nvar HeroModule,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\nHeroModule = (function() {\n  function HeroModule() {\n    this.on_interval = bind(this.on_interval, this);\n    this.on_thumb_click = bind(this.on_thumb_click, this);\n    this.run = bind(this.run, this);\n  }\n\n  HeroModule.prototype.run = function() {\n    this.thumbs = $('.hero-thumb');\n    if (this.thumbs.length) {\n      this.interval = setInterval(this.on_interval, 5000);\n      return this.thumbs.click(this.on_thumb_click);\n    }\n  };\n\n  HeroModule.prototype.on_thumb_click = function(event, auto) {\n    var active, element, target;\n    if (auto == null) {\n      auto = false;\n    }\n    if (!auto) {\n      clearInterval(this.interval);\n    }\n    event.preventDefault;\n    active = 'hero-thumb--active';\n    element = $(event.currentTarget);\n    element.siblings().removeClass(active);\n    element.addClass(active);\n    target = $('.hero-figure');\n    target.stop();\n    return target.fadeOut('fast', (function(_this) {\n      return function() {\n        target.find('.hero-image').attr('src', element.data('image'));\n        target.find('.hero-link').attr('href', element.data('link'));\n        target.find('.hero-link-name').html(element.data('name'));\n        target.find('.hero-price-value').html(element.data('price'));\n        return target.fadeIn(1000);\n      };\n    })(this));\n  };\n\n  HeroModule.prototype.on_interval = function() {\n    var current, next;\n    current = $('.hero-thumb--active');\n    next = current.next();\n    if (!next.length) {\n      next = current.siblings().first();\n    }\n    return next.trigger('click', [true]);\n  };\n\n  return HeroModule;\n\n})();\n","class CartModule\n\n  # General\n\n  run: =>\n    @stars = $('[data-star]')\n    @stars.click(@on_star_click)\n    @stars.bind('product_change', @on_product_change)\n    @update()\n\n  update: =>\n    @update_menu()\n    @update_stars()\n    @update_cart()\n\n  # Updaters\n\n  update_menu: =>\n    products = @get_products()\n    target = $('.mainnav-stars')\n    target.hide()\n    target.html()\n    if products.length\n      target.find('.mainnav-stars-count').html(products.length)\n      target.show()\n\n  update_stars: =>\n    @stars.map (index, element) =>\n      element = $(element)\n      product = element.data('star')\n      products = @get_products()\n      if product in products\n        element.removeClass('fa-star-o').addClass('fa-star')\n      else\n        element.removeClass('fa-star').addClass('fa-star-o')\n\n  update_cart: =>\n    products = @get_products()\n    elements = $('body[data-route=\"select/catalog/cart\"] .product')\n    elements.map (index, element) =>\n      element = $(element)\n      product = element.find('[data-star]').data('star')\n      element.hide()\n      if product in products\n        element.show()\n    elements.filter(':visible:first').css('border-top', 'none')\n\n  # Bindings\n\n  on_star_click: (event) =>\n    element = $(event.currentTarget)\n    product = element.data('star')\n    products = @get_products()\n    if product in products\n      products = _.without(products, product)\n    else\n      products.push(product)\n    @set_products(products)\n    @update()\n\n  on_product_change: (event) =>\n    @update()\n\n  # Storage\n\n  get_products: =>\n    products = []\n    if localStorage.cart\n      products = JSON.parse(localStorage.cart)\n    return products\n\n  set_products: (products) =>\n    localStorage.cart = JSON.stringify(products)\n","class FlipModule\n\n  # General\n\n  run: =>\n    @links = $('a[data-flip]')\n    @images = $('img[data-flip]')\n    @links.click(@on_link_click)\n    @update()\n\n  update: (click) =>\n    flip = @get()\n    if click\n      animation = 'uk-animation-fade'\n      @links.addClass(animation)\n      @images.addClass(animation)\n      setTimeout(( =>\n        @links.removeClass(animation)\n        @images.removeClass(animation)\n      ), 1000)\n    if flip\n      @links.html('левозаходные')\n      @images.addClass('ut-flip')\n    else\n      @links.html('правозаходные')\n      @images.removeClass('ut-flip')\n\n  # Bindings\n\n  on_link_click: (event) =>\n    event.preventDefault()\n    @set(not @get())\n    @update(true)\n\n  # Storage\n\n  get: =>\n    return JSON.parse(localStorage.flip || 'false')\n\n  set: (flip) =>\n    localStorage.flip = JSON.stringify(flip)\n","jQuery =>\n  app = new Application()\n  app.register(new CartModule())\n  app.register(new CategoryModule())\n  app.register(new FlipModule())\n  app.register(new HeroModule())\n  app.register(new ScrollModule())\n  app.run()\n","class ScrollModule\n\n  # General\n\n  run: =>\n    hash = $(location).attr('hash')\n    if hash\n      @scroll(hash)\n    $('a[href^=\"#\"]').click(@on_click)\n\n  # Bindings\n\n  on_click: (event) =>\n    event.preventDefault()\n    element = event.currentTarget\n    hash = $(element).attr('href').replace('/', '')\n    @scroll(hash)\n\n  # Helpers\n\n  scroll: (hash) =>\n    element = $(hash)\n    if element.length\n      if element.is(':hidden')\n        element.parents('.uk-switcher').children().removeClass('uk-active')\n        element.parents('.uk-switcher>li').addClass('uk-active')\n      offset = $('.header').height() + 20\n      UIkit.Utils.scrollToElement(element, {offset: offset})\n","jQuery(function () {\n    $('[data-callback-trigger]').click(function (event) {\n        event.preventDefault();\n        Comagic.openSitePhonePanel();\n    })\n})\n","jQuery(function () {\n\n    var content = $('.delivery-content');\n    var link = $('.delivery-close-link');\n\n    // Initial sync\n    sync();\n\n    // Togle on click\n    link.click(function (event) {\n        var visible = JSON.parse(localStorage.delivery || 'true');\n        localStorage.delivery = JSON.stringify(!visible)\n        event.preventDefault();\n        sync();\n    });\n\n    // Sync content status\n    function sync(status) {\n        var visible = JSON.parse(localStorage.delivery || 'true');\n        if (visible) {\n            content.show();\n        } else {\n            content.hide();\n        }\n    }\n\n});\n","class CategoryModule\n\n  # General\n\n  run: =>\n    $('.category-item-link').click(@on_item_click)\n\n  # Bindings\n\n  on_item_click: (event) =>\n    event.preventDefault()\n    element = $(event.currentTarget)\n    target = element.parents('.category')\n    target.find('.category-heading, .category-image, .category-table').fadeOut 'fast', =>\n      target.find('.category-heading-link').attr('href', element.data('link'))\n      target.find('.category-heading-name').html(element.data('name'))\n      target.find('.category-image').attr('src', element.data('image'))\n      target.find('.category-star').data('stair', element.data('slug'))\n      target.find('.category-star').trigger('stair_change')\n      target.find('.category-price-value').html(element.data('price'))\n      target.find('.category-price-currency').hide()\n      if element.data('presence')\n        target.find('.category-price-currency').show()\n      target.find('.category-notice').hide()\n      if element.data('discount')\n        target.find('.category-notice').show()\n      target.find('.category-turn').html(element.data('turn'))\n      target.find('.category-height').html(element.data('height'))\n      target.find('.category-window').html(element.data('window'))\n      target.find('.category-wood').html(element.data('wood'))\n      active = 'category-item--active'\n      element.parent().siblings().removeClass(active)\n      element.parent().addClass(active)\n      target.find('.category-heading, .category-image, .category-table').fadeIn('slow')\n","class HeroModule\n\n  # General\n\n  run: =>\n    @thumbs = $('.hero-thumb')\n    if @thumbs.length\n      @interval = setInterval(@on_interval, 5000)\n      @thumbs.click(@on_thumb_click)\n\n  # Bindings\n\n  on_thumb_click: (event, auto=false) =>\n    if not auto\n      clearInterval(@interval)\n    event.preventDefault\n    active = 'hero-thumb--active'\n    element = $(event.currentTarget)\n    element.siblings().removeClass(active)\n    element.addClass(active)\n    target = $('.hero-figure')\n    target.stop()\n    target.fadeOut 'fast', =>\n      target.find('.hero-image').attr('src', element.data('image'))\n      target.find('.hero-link').attr('href', element.data('link'))\n      target.find('.hero-link-name').html(element.data('name'))\n      target.find('.hero-price-value').html(element.data('price'))\n      target.fadeIn(1000)\n\n  on_interval: =>\n    current = $('.hero-thumb--active')\n    next = current.next()\n    if not next.length\n      next = current.siblings().first()\n    next.trigger('click', [true])\n"]}